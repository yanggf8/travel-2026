#!/bin/bash
# Pre-commit hook: typecheck + data validation before commit
# Install: npm run hooks:install

echo "Running typecheck..."
npm run typecheck

if [ $? -ne 0 ]; then
  echo "❌ Typecheck failed. Fix errors before committing."
  exit 1
fi

echo "✅ Typecheck passed"

echo ""
echo "Running data validation..."
npm run validate:data

if [ $? -ne 0 ]; then
  echo "❌ Data validation failed. Fix errors before committing."
  exit 1
fi

echo "✅ Data validation passed"
